<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <script type="text/javascript" src="matrix.js"></script>
        <script type="text/javascript" src="nn.js"></script>
        <script type="text/javascript">

            // a = Matrix.fromArray([[1,1,1,1]]);
            // a.print();
            // b = Matrix.fromArray([[1,1],[1,1],[1,1],[2,1]]);
            // b.print();
            // c = Matrix.multiply(a,b);
            // c.print();

            let a = new nn(2, 3, [4]);

            train_data = [{
                i: [0,0],
                o: [0,0,0]
            },{
                i: [0,1],
                o: [0,0,1]
            },{
                i: [1,0],
                o: [1,0,1]
            },{
                i: [1,1],
                o: [1,1,1]
            }]

            // console.log(a.train([1,0], [1, 0, 1]));

            do_test();

            for (var i = 0; i < 100000; i++) {
                var rand = train_data[Math.floor(Math.random() * train_data.length)];
                a.train(rand.i, rand.o);
            }

            do_test();
            function do_test() {
                for (let x of train_data) {
                    console.log(x.i, x.o, a.feedforward(x.i));
                }
            }
        </script>
    </body>
</html>
